using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Solution2
{
    class Program
    {
        static void Main(string[] args)
        {
            const int MAX_NUMBER = 10000;
            const int MAX_COUNT_INT_LIST = 1000;
            const int MIN_PRIME = 2;
            int p = MIN_PRIME;
            int power = p * p;

            int listCounts = MAX_NUMBER / MAX_COUNT_INT_LIST;
            List<Int32>[] integerBox = new List<Int32>[listCounts];
            int currentBox = 0;
            int maxNumberInBox = MAX_COUNT_INT_LIST;

            while (currentBox < listCounts)
            {
                integerBox[currentBox] = new List<Int32>();
                for (int i = MIN_PRIME; i <= maxNumberInBox; i++)
                {
                    integerBox[currentBox].Add(i);
                }
                maxNumberInBox += MAX_COUNT_INT_LIST;
            }

            while (currentBox < listCounts)
            {
                while (power < maxNumberInBox)
                {
                    for (int i = power; i <= maxNumberInBox; i += p)
                    {
                        integerBox[currentBox].Remove(i);
                    }
                    p++;
                    power = p * p;
                }
                maxNumberInBox += MAX_COUNT_INT_LIST;
            }

            while (currentBox < listCounts)
            {

            }
        }
    }
}
